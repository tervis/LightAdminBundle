(()=>{function e(){return localStorage.getItem("theme")}function t(){let t=e();return t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}function a(e){"auto"===e?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",e)}function o(e,t=!1){let a=document.querySelector("#bd-theme");if(!a)return;let r=document.querySelector("#bd-theme-text"),i=document.querySelector(".theme-icon-active use"),c=document.querySelector(`[data-bs-theme-value="${e}"]`);if(!c)return void console.warn(`Theme switch button for value "${e}" not found.`);let l=c.querySelector("svg use")?.getAttribute("href");if(document.querySelectorAll("[data-bs-theme-value]").forEach(e=>{e.classList.remove("active"),e.setAttribute("aria-pressed","false")}),c.classList.add("active"),c.setAttribute("aria-pressed","true"),i&&l&&i.setAttribute("href",l),r){let e=`${r.textContent} (${c.dataset.bsThemeValue})`;a.setAttribute("aria-label",e)}t&&a.focus()}class r{constructor(e){this.field=e,this.field.addEventListener("change",this.#e.bind(this))}#e(){let e=this.field,t=e.dataset.token;fetch(e.dataset.toggleUrl,{method:"POST",mode:"cors",body:JSON.stringify({propertyName:e.dataset.propertyName,_token:t}),headers:{credentials:"same-origin","Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":t}}).then(e=>{}).catch(()=>this.#t())}#t(){this.field.checked=!this.field.checked,this.field.disabled=!0,this.field.closest(".form-switch").classList.add("disabled")}}async function i(e){e.preventDefault();let t=e.currentTarget,a=t.dataset.url,o=t.dataset.csrfToken;if(!a||!o){console.error("Batch Delete: Missing URL or CSRF Token data attributes on the button."),alert("Deletion cannot proceed: Missing configuration data.");return}let r=document.querySelectorAll(".batch-delete-checkbox"),i=[];if(r&&Array.from(r).forEach(e=>{e.checked&&i.push(e.value)}),0===i.length)return void alert("Please select at least one item to delete.");if(confirm("Are you sure you want to delete the selected items?"))try{let e=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-Token":o},body:JSON.stringify({items:i,_token:o})});if(e.ok)console.log("Batch delete successful:",e),window.location.reload();else{let t=await e.json();console.error("Batch delete failed:",t),alert(`Deletion failed: ${t.message||"Unknown error"}`)}}catch(e){console.error("Network or client-side error during batch delete:",e),alert("A network error occurred. Please try again.")}}document.addEventListener("DOMContentLoaded",function(){let c=document.getElementById("sidebarCollapse"),l=document.getElementById("sidebar"),s=document.querySelector("body"),n=()=>window.innerWidth<768,d=()=>{l&&s&&(n()?(l.classList.add("active"),s.classList.add("active")):(l.classList.remove("active"),s.classList.remove("active")))};d(),window.addEventListener("resize",d),c&&l&&s&&c.addEventListener("click",()=>{l.classList.toggle("active"),s.classList.toggle("active")}),document.querySelectorAll('td.field-boolean .form-switch input[type="checkbox"]').forEach(e=>{try{new r(e)}catch(e){console.error("Error initializing ToggleSwitch:",e)}});let u=document.getElementById("batchDeleteButton");u&&u.addEventListener("click",i);let h=t();a(h),o(h,!1),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{let r=e();"light"!==r&&"dark"!==r&&(a(t()),o(t(),!1))}),document.querySelectorAll("[data-bs-theme-value]").forEach(e=>{e.addEventListener("click",()=>{let t=e.getAttribute("data-bs-theme-value");localStorage.setItem("theme",t),a(t),o(t,!0)})})})})();
//# sourceMappingURL=light-admin.js.map
